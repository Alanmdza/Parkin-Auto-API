# Parking Auto Parking Management System

## Problem Statement

Parking Auto, a parking facility, is looking to modernize its existing vehicle management system by incorporating a parking monitoring system. A parking monitoring system is a technological solution designed to supervise and manage the usage of a parking facility, whether in a public or private setting. These systems utilize a variety of sensors, cameras, and software to assist drivers in finding available parking spaces and provide valuable information to parking operators.

### Components

A typical parking monitoring system comprises the following components:

- **Detection Sensors:** Sensors installed in each parking space to determine if the space is occupied or available.
- **Surveillance Cameras:** Cameras used to monitor and record activity within the parking facility. They can aid in resolving disputes regarding vehicle damage, identifying violators, and providing security evidence.
- **Information Management System:** Centralized software that processes sensor and camera data, maintaining real-time records of parking space availability and providing this information to users and operators.
- **Real-time Signage:** Electronic signs within the parking facility that display real-time information about space availability, assisting drivers in quickly finding a parking spot.
- **Mobile Applications and Websites:** Users can access parking information through mobile apps or websites, allowing them to check space availability before arriving at the facility.
- **Automated Payment Systems:** Some parking monitoring systems enable automated payments through mobile apps or payment kiosks, streamlining the parking process and reducing the need for in-person interactions.
- **Security and Access Control Management:** Parking monitoring systems can also integrate security features, such as access control to restricted areas and the detection of suspicious activities.

The task at hand is to model the functional requirements for the parking information management system, which processes data from the sensors and simulates their operation when a vehicle enters the facility. Additionally, it involves real-time signage indicating space availability. The system must allow access to an administrator user to control the data generated by the sensors and oversee their operation when a vehicle enters, displaying space availability. The administrator can enable or disable parking spaces based on sensor data, as well as manage the signs indicating whether spaces are vacant or occupied. There are also sensors that read the vehicle's license plate and assign it to the parking space where the vehicle is parked.

The system should also handle parking fee payments, monitoring the parking duration for each vehicle and applying the current tariff. When a vehicle exits the parking facility, it must go through a control point where the license plate will be read, and the payment will be calculated based on the time the vehicle was parked.

## Goals

The project aims to achieve the following goals:

- Implement a parking monitoring system that efficiently manages parking space information, including real-time availability.
- Provide an intuitive user interface for the administrator to control sensors and signage.
- Automate the process of assigning license plates to parking spaces.
- Facilitate the payment process for parking fees, including sending information about the parking duration for each vehicle.

## Updates

The Trigger, initially a separate project, has been integrated as a thread in the main project. A SQL database has been added to store occupancy records. Additionally, a module has been incorporated to query this database, allowing the system to determine the amount to charge for parking. The search is based on the vehicle's license plate.

An authentication process has been introduced for user login to access the database query module. This ensures secure access to sensitive information.

## How It Works

The project is divided into two parts:

1. **ESP32 Controller:** This component determines the status of each parking space using sensors and sends updates via HTTP to our API. The project utilizes the Wokwi simulation tool to simulate the system in a real-life environment.

![image](https://github.com/Alanmdza/Parking-Auto-API/assets/126357766/8131ac79-7e0b-46f1-be39-42ba34d5dceb)

The corresponding repository is [ESP32](https://github.com/Alanmdza/Parking-Auto-ESP32)


2. **API:** The API itself handles requests to update the model and present information to viewers. It's developed using the JAVA Spark framework and uses the Velocity template engine.

![image](https://github.com/Alanmdza/Parking-Auto-API/assets/126357766/9eb1933b-6888-4317-aa75-29e44b3a412d)

## Getting Started

To run the API, you only need JAVA and Maven to start the local Jetty server.

To simulate the ESP32, you'll need the PlatformIO compiler and the Wokwi simulation environment, both of which can be installed as VS Code extensions. It's worth noting that at the time of developing this project, the Wokwi tool is under development, and the HTTP simulation library does not work correctly. To simulate the behavior of a real ESP32, the Trigger has been implemented as a thread in the main project.

